<form method="GET" id="datePicker">
    <input type="hidden" name="startDate" value="{{start_date.isoformat}}" id="startDate">
    <input type="hidden" name="endDate" value="{{end_date.isoformat}}" id="endDate">
</form>
<input type="input" id="rangePicker" placeholder="Date range" class="input ~neutral bg-neutral-000 cursor-pointer" readonly>
<style>
    :root {
        --litepicker-button-prev-month-color-hover: var(--color-urge);
        --litepicker-button-next-month-color-hover: var(--color-urge);
        --litepicker-day-color-hover: var(--color-urge);
        --litepicker-is-today-color: var(--color-urge);
        --litepicker-is-in-range-color: var(--color-urge-normal-fill);
        --litepicker-is-start-color-bg: var(--color-urge);
        --litepicker-is-end-color-bg: var(--color-urge);
        --litepicker-button-apply-color-bg: var(--color-urge);
    }
</style>
<script>
    var picker = new Litepicker({
        element: document.getElementById('rangePicker'),
        plugins: ['ranges'],
        singleMode: false,
        format: 'MMM D, YYYY',
        maxDate: new Date(),
        startDate: Date.parse(document.getElementById("startDate").getAttribute("value")),
        endDate: Date.parse(document.getElementById("endDate").getAttribute("value")),
    });
    picker.on('selected', (startDate, endDate) => {
        document.getElementById("startDate").setAttribute("value", startDate.getFullYear() +
            "-" + (startDate.getMonth() + 1) + "-" + startDate.getDate());
        document.getElementById("endDate").setAttribute("value", endDate.getFullYear() + "-" +
            (endDate.getMonth() + 1) + "-" + endDate.getDate());
        document.getElementById("datePicker").submit();
    });
</script>
